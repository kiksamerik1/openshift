<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"> 

<h:head></h:head> 
<body> 
	<h1>WELCOME</h1>
	<h2>ADD USER</h2>
	<h:form>
		<h:panelGrid columns="2">
		<h:outputText value="ID" />
			<h:inputText value="#{auth.user.id}" />
			<h:outputText value="NAME" />
			<h:inputText value="#{auth.user.name}" />
			<h:outputText value="EMAIL" />
			<h:inputText value="#{auth.user.email}" />
			<h:commandButton value="ADD" action="#{auth.addUser}" />
		</h:panelGrid>
	
	<h2>THE USERS</h2>
		<h:dataTable border="1" value="#{auth.users}" var="u">
			<h:column>
				<f:facet name="header">
					<h:outputText value="ID" />
				</f:facet>
					<h:outputText value="#{u.id}" />
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="NAME" />
				</f:facet>
					<h:outputText value="#{u.name}" />
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="EMAIL" />
				</f:facet>
					<h:outputText value="#{u.email}" />
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="ACTIONS" />
				</f:facet>
					<h:commandButton value="remove" action="#{auth.removeUser}" >
						<f:setPropertyActionListener target="#{auth.selectedUser}" value="#{u}"></f:setPropertyActionListener>
					</h:commandButton>
					<h:commandButton value="update" action="#{auth.updateUser}" >
						<f:setPropertyActionListener target="#{auth.selectedUser}" value="#{u}"></f:setPropertyActionListener>
					</h:commandButton>
			</h:column>
		</h:dataTable>
		<h2>UPDATE USER</h2>
		<h:panelGrid columns="2">
		<h:outputText value="ID" />
			<h:inputText value="#{auth.selectedUser.id}" />
			<h:outputText value="NAME" />
			<h:inputText value="#{auth.selectedUser.name}" />
			<h:outputText value="EMAIL" />
			<h:inputText value="#{auth.selectedUser.email}" />
			<h:commandButton value="UPDATE" action="#{auth.updateUser}" />
		</h:panelGrid>
	</h:form>
</body> 
</html>
